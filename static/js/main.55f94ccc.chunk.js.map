{"version":3,"sources":["firebase.js","contexts/AuthContext.js","Auth/Login.js","Auth/PrivateRoute.js","contexts/StockSymbolContext.js","App/Chart.js","App/TransactionsUI.js","App/Leftbar.js","App/Rightbar.js","App/App.js","Auth/ForgotPassword.js","Auth/UpdateProfile.js","Auth/Signup.js","Auth/Router.js","serviceWorker.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","database","AuthContext","React","createContext","useAuth","useContext","AuthProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","then","userIdIndex","indexOf","userId","substr","ref","set","username","balance","ownedStocks","console","log","writeUserData","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","react_default","a","createElement","Provider","Login","emailRef","useRef","passwordRef","error","setError","history","useHistory","_handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","e","wrap","_context","prev","next","preventDefault","current","push","t0","stop","apply","this","arguments","className","onSubmit","_x","id","type","required","react_router_dom","to","disabled","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","props","StockSymbolContext","stockSymbol","setStockSymbol","AllStockPricesContext","allPrices","setAllStockPrices","Chart","xData","setxData","yData","setyData","allStockPrices","stockChartXValues","stockChartYValues","fetch","concat","response","json","data","key","fetchStock","Fragment","stockPrice","react_plotly_default","x","y","mode","marker","color","layout","width","height","ChartTemplate","TransactionsUI","setUserId","setBalance","inputRef","_writeUserData","uId","amount","stockName","stocksRef","prevStockValue","once","sent","val","Number","getUserData","on","snapshot","buyStock","newbalance","Math","trunc","pow","_x2","_x3","_x4","alert","userIdRef","Leftbar","stockNames","setStockNames","_useContext2","ListItems","onClick","fetchStockNames","_ref2","_callee2","res","keys","last","price","_context2","abrupt","fetchAllStockPrices","_ref3","_callee3","rawPrices","prices","_context3","SSP","_ref4","_callee4","_context4","map","i","Rightbar","_useAuth","currentUserMailRef","_useState5","_useState6","_handleLogout","parseInt","App","value2","exact","path","ForgotPassword","message","setMessage","UpdateProfile","passwordConfirmRef","promises","Promise","all","catch","finally","defaultValue","placeholder","Signup","Router","NoMatch","text","Boolean","window","location","hostname","match","ReactDOM","Auth_Router","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.55f94ccc.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\nimport \"firebase/database\"\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: \"AIzaSyDbdtreoD_vvgfIqmEnM49iuGTHmyZQ-0A\",\r\n  authDomain: \"smash-53d6d.firebaseapp.com\",\r\n  databaseURL: \"https://smash-53d6d.firebaseio.com\",\r\n  projectId: \"smash-53d6d\",\r\n  storageBucket: \"smash-53d6d.appspot.com\",\r\n  messagingSenderId: \"486337294911\",\r\n  appId: \"1:486337294911:web:4d44a7d04dbe63d985be8a\",\r\n  measurementId: \"G-7C6BZ88B2P\"\r\n})\r\n\r\nexport const auth = app.auth()\r\nexport const db = app.database()\r\nexport default app\r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth, db } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n\r\n    function writeUserData(email) {\r\n      let userIdIndex = email.indexOf(\"@\")\r\n      let userId = email.substr(0, userIdIndex)\r\n      db.ref('users/' + userId).set({\r\n        username: userId,\r\n        email: email,\r\n        balance: 1000,\r\n        ownedStocks: {}\r\n      })\r\n      console.log(\"balance yazidli\");\r\n    }\r\n\r\n    auth.createUserWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        writeUserData(email)\r\n      })\r\n\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { login } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/react-stock-game/\")\r\n    } catch {\r\n      setError(\"Failed to log in\")\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-wrapper\">\r\n        <h2>Log In</h2>\r\n        {error && <div>{error}</div>}\r\n        <form onSubmit={handleSubmit}>\r\n          <div id=\"email\">\r\n            <label>Email</label>\r\n            <input type=\"email\" ref={emailRef} required />\r\n          </div>\r\n          <div id=\"password\">\r\n            <label>Password</label>\r\n            <input type=\"password\" ref={passwordRef} required />\r\n          </div>\r\n          <div >\r\n          <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n        </div>\r\n          <button disabled={loading} type=\"submit\" className=\"login-button\">\r\n            Log In\r\n            </button>\r\n        </form>\r\n\r\n        <div>\r\n          Need an account? <Link to=\"/react-stock-game/signup\">Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Route, Redirect } from \"react-router-dom\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/react-stock-game/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\n\r\nconst StockSymbolContext = React.createContext({\r\n  stockSymbol: false,\r\n  setStockSymbol: () => {}\r\n})\r\n\r\nconst AllStockPricesContext = React.createContext({\r\n  allPrices: {},\r\n  setAllStockPrices: () => {}\r\n})\r\n\r\n\r\n\r\nexport {\r\n  StockSymbolContext,\r\n  AllStockPricesContext\r\n}\r\n","import React, { useEffect, useState, useContext } from 'react'\r\nimport Plot from 'react-plotly.js'\r\nimport { Link } from 'react-router-dom'\r\nimport { StockSymbolContext, AllStockPricesContext } from '../contexts/StockSymbolContext'\r\n\r\nexport default function Chart() {\r\n  const [xData, setxData] = useState([])\r\n  const [yData, setyData] = useState([])\r\n\r\n  const { stockSymbol } = useContext(StockSymbolContext)\r\n  const { allStockPrices } = React.useContext(AllStockPricesContext)\r\n\r\n  const fetchStock = () => {\r\n    if (stockSymbol) {\r\n      let stockChartXValues = [];\r\n      let stockChartYValues = [];\r\n\r\n      fetch(`https://stock-game-server.herokuapp.com/${stockSymbol}`)\r\n        .then(\r\n          function (response) {\r\n            return response.json();\r\n          }\r\n        )\r\n        .then(\r\n          function (data) {\r\n            for (var key in data['Time Series (Daily)']) {\r\n              stockChartXValues.push(key);\r\n              stockChartYValues.push(data['Time Series (Daily)'][key]['1. open']);\r\n            }\r\n            setxData(stockChartXValues)\r\n            setyData(stockChartYValues)\r\n          }\r\n        )\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchStock()\r\n  }, [stockSymbol])\r\n\r\n  const ChartTemplate = (stockSymbol, stockPrice) => {\r\n    return (\r\n      <div>\r\n        <h1>{stockSymbol + \" \"}Stock Market</h1>\r\n        <h2>Price: {stockPrice}</h2>\r\n        <Plot\r\n          data={[\r\n            {\r\n              x: xData,\r\n              y: yData,\r\n              type: 'scatter',\r\n              mode: 'lines+markers',\r\n              marker: { color: 'blue' },\r\n            }\r\n          ]}\r\n          layout={{ width: 720, height: 440 }} //title: ...\r\n        />\r\n        <p><Link to=\"/buy\">Buy</Link></p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        stockSymbol !== false ?\r\n          ChartTemplate(stockSymbol, allStockPrices[stockSymbol])\r\n          :\r\n          <div>Choose stock from the list</div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import React, { useState, useRef } from 'react'\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link } from 'react-router-dom'\r\nimport { db } from '../firebase'\r\n\r\n\r\nexport default function TransactionsUI(props) {\r\n\r\n  const { currentUser } = useAuth()\r\n  const [userId, setUserId] = useState(false)\r\n  const [balance, setBalance] = useState(0)\r\n  const inputRef = useRef()\r\n\r\n  console.log(userId);\r\n\r\n  React.useEffect(() => {\r\n    let userIdIndex = currentUser.email.indexOf(\"@\")\r\n    let userIdRef = currentUser.email.substr(0, userIdIndex)\r\n    setUserId(userIdRef)\r\n  }, [currentUser])\r\n\r\n  async function writeUserData(uId, balance, amount, stockName) {\r\n    let stocksRef = db.ref('users/' + uId + '/stocks' + `/${stockName}`)\r\n    db.ref('users/' + uId + '/balance').set(balance)\r\n    let prevStockValue = await (await stocksRef.once('value')).val()\r\n    console.log(prevStockValue);\r\n    stocksRef.set(Number(amount) + Number(prevStockValue))\r\n  }\r\n\r\n  function getUserData(uId) {\r\n    console.log(\"userid: \" + uId);\r\n    let bref = db.ref('users/' + uId + '/balance');\r\n    bref.on('value', (snapshot) => {\r\n      setBalance(snapshot.val())\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    userId ? getUserData(userId) : console.log(\"Cant get userid\")\r\n  }, [userId])\r\n\r\n  function buyStock(stockPrice, amount) {\r\n    if (Number(amount) * Number(stockPrice) <= balance) {\r\n      let newbalance = balance - (stockPrice * amount)\r\n      newbalance = Math.trunc(newbalance * Math.pow(10,3))/Math.pow(10,3) // getting rid of excessive zeros\r\n      writeUserData(userId, newbalance, amount, props.stockName)\r\n      setBalance(newbalance)\r\n    }\r\n    else {\r\n      alert(\"not enough balance\")\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    getUserData(userId)\r\n    console.log(inputRef.current.value)\r\n    buyStock(props.stockPrice, inputRef.current.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h1>Transactions</h1>\r\n      <h2>Your balance: {balance}</h2>\r\n      <h2>{props.stockName}</h2>\r\n      <h3>{props.stockPrice}</h3>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input ref={inputRef}></input>\r\n        <input type=\"submit\" />\r\n      </form>\r\n\r\n      <Link to=\"/\">Go back</Link>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { StockSymbolContext, AllStockPricesContext } from '../contexts/StockSymbolContext'\r\n\r\n\r\nexport default function Leftbar() {\r\n  const [stockNames, setStockNames] = useState([])\r\n\r\n  const { setAllStockPrices } = useContext(AllStockPricesContext)\r\n  const { stockSymbol, setStockSymbol } = useContext(StockSymbolContext);\r\n\r\n  const ListItems = (props) => {\r\n    return (\r\n      <div className=\"listItem\" onClick={props.onClick}>{props.value}</div>\r\n    )\r\n  }\r\n\r\n  const fetchStockNames = async () => {\r\n    fetch(`https://stock-game-server.herokuapp.com/`)\r\n      .then(\r\n        (response) => {\r\n          return response.json();\r\n        }\r\n      )\r\n      .then(\r\n        (data) => {\r\n          setStockNames(data)\r\n        }\r\n      )\r\n  }\r\n\r\n  const fetchStock = async () => {\r\n    if (stockSymbol) {\r\n      let res = await fetch(`https://stock-game-server.herokuapp.com/${stockSymbol}`)\r\n      let data = await res.json()\r\n      let keys = Object.keys(data['Time Series (Daily)']);\r\n      let last = keys[0];\r\n      let price = Number(data['Time Series (Daily)'][last]['1. open'])\r\n      return price\r\n    }\r\n  }\r\n\r\n  const fetchAllStockPrices = async () => {\r\n    let rawPrices = await fetch('https://stock-game-server.herokuapp.com/prices')\r\n    let prices = await rawPrices.json()\r\n    setAllStockPrices(prices)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchStockNames()\r\n    fetchStock()\r\n  }, [stockSymbol])\r\n\r\n  useEffect(() => {\r\n    fetchAllStockPrices()\r\n  }, [])\r\n\r\n\r\n  const SSP = async (e) => {\r\n    setStockSymbol(e)\r\n  }\r\n\r\n  const displayListItems = () => {\r\n    let finalStockNames = []\r\n    finalStockNames = stockNames.map((e, i) => {\r\n      return <ListItems key={i} value={e} onClick={() => { SSP(e) }} />\r\n    })\r\n    return finalStockNames\r\n  }\r\n\r\n  return (\r\n    <div className=\"Leftbar\">\r\n      <div className=\"wrapper\">\r\n        {displayListItems()}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { db } from \"../firebase\"\r\n\r\n\r\nexport default function Rightbar() {\r\n  const [error, setError] = useState(\"\")\r\n  const { currentUser, logout } = useAuth()\r\n  const currentUserMailRef = useRef(currentUser.email)\r\n  const history = useHistory()\r\n  const [balance, setBalance] = useState(null)\r\n  const [userId, setUserId] = useState(\"\")\r\n\r\n  async function handleLogout() {\r\n    setError(\"\")\r\n\r\n    try {\r\n      await logout()\r\n      history.push(\"/react-stock-game/login\")\r\n    } catch {\r\n      setError(\"Failed to log out\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let userIdIndex = currentUserMailRef.current.indexOf(\"@\")\r\n    let userIdRef = currentUserMailRef.current.substr(0, userIdIndex)\r\n    setUserId(userIdRef)\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    let balanceRef = db.ref('users/' + userId + '/balance');\r\n    balanceRef.on('value', (snapshot) => {\r\n      console.log(snapshot.val());\r\n      setBalance(snapshot.val())\r\n    })\r\n  }, [userId])\r\n\r\n\r\n  return (\r\n    <div className=\"Rightbar\">\r\n      <div className=\"wrapper\">\r\n        <li className=\"listItem\">\r\n          <h2>Profile</h2>\r\n          {error && <div>{error}</div>}\r\n          <strong>Username:</strong> {userId}\r\n          <p>\r\n            <Link to=\"/update-profile\">\r\n              Update Profile\r\n            </Link>\r\n          </p>\r\n          <button onClick={handleLogout}>\r\n            Log Out\r\n          </button>\r\n          <p>Balance: {parseInt(balance)}</p>\r\n        </li>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { Route, Switch, } from 'react-router-dom'\r\nimport { StockSymbolContext, AllStockPricesContext } from '../contexts/StockSymbolContext'\r\nimport Chart from './Chart'\r\nimport TransactionsUI from './TransactionsUI'\r\nimport Leftbar from './Leftbar'\r\nimport Rightbar from './Rightbar'\r\nimport './App.css'\r\n\r\nfunction App() {\r\n  const [stockSymbol, setStockSymbol] = useState(false);\r\n  const [allStockPrices, setAllStockPrices] = useState({});\r\n\r\n  let value = { stockSymbol, setStockSymbol };\r\n  let value2 = { allStockPrices, setAllStockPrices };\r\n\r\n  console.log(stockSymbol);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <StockSymbolContext.Provider value={value}>\r\n        <AllStockPricesContext.Provider value={value2}>\r\n          <Leftbar />\r\n          <Switch>\r\n            <Route exact path=\"/react-stock-game/\" component={Chart} />\r\n            <Route path=\"/react-stock-game/buy\"\r\n              render={() => {\r\n                return <TransactionsUI stockName={stockSymbol} stockPrice={allStockPrices[stockSymbol]} />\r\n              }}\r\n            />\r\n          </Switch>\r\n        </AllStockPricesContext.Provider>\r\n      </StockSymbolContext.Provider>\r\n      <Rightbar></Rightbar>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React, { useRef, useState } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage(\"\")\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage(\"Check your inbox for further instructions\")\r\n      setLoading(false)\r\n    } catch {\r\n      setError(\"Failed to reset password\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-wrapper\">\r\n        <h2>Password Reset</h2>\r\n        {error && <div>{error}</div>}\r\n        {message && <div>{message}</div>}\r\n        <form onSubmit={handleSubmit}>\r\n          <div id=\"email\">\r\n            <div>Email</div>\r\n            <input type=\"email\" ref={emailRef} required />\r\n          </div>\r\n          <button disabled={loading} type=\"submit\">\r\n            Reset Password\r\n            </button>\r\n        </form>\r\n        <div>\r\n          <Link to=\"/react-stock-game/login\">Login</Link>\r\n        </div>\r\n\r\n        <div>\r\n          Need an account? <Link to=\"/react-stock-game/signup\">Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { currentUser, updatePassword, updateEmail } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateEmail(emailRef.current.value))\r\n    }\r\n    if (passwordRef.current.value) {\r\n      promises.push(updatePassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        setLoading(false)\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to update account\")\r\n      })\r\n      .finally(() => {\r\n        history.push(\"/react-stock-game/\")\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(emailRef.current.value)\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <h2>Update Profile</h2>\r\n      {error && <div>{error}</div>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div id=\"email\">\r\n          <div>Email</div>\r\n          <input\r\n            type=\"email\"\r\n            ref={emailRef}\r\n            required\r\n            defaultValue={currentUser.email}\r\n          />\r\n        </div>\r\n        <div id=\"password\">\r\n          <div>Password</div>\r\n          <input\r\n            type=\"password\"\r\n            ref={passwordRef}\r\n            placeholder=\"Leave blank to keep the same\"\r\n          />\r\n        </div>\r\n        <div id=\"password-confirm\">\r\n          <div>Password Confirmation</div>\r\n          <input\r\n            type=\"password\"\r\n            ref={passwordConfirmRef}\r\n            placeholder=\"Leave blank to keep the same\"\r\n          />\r\n        </div>\r\n        <button disabled={loading} type=\"submit\">\r\n          Update\r\n            </button>\r\n      </form>\r\n      <div>\r\n        <Link to=\"/\">Cancel</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useRef, useState } from \"react\"\r\nimport { useAuth } from \"../contexts/AuthContext\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\n\r\nexport default function Signup() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signup } = useAuth()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const history = useHistory()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n    \r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n\r\n    try {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push(\"/react-stock-game/\")\r\n\r\n    } catch {\r\n      setError(\"Failed to create an account\")\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <h2 >Sign Up</h2>\r\n      {error && <div>{error}</div>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div id=\"email\">\r\n          <div>Email</div>\r\n          <input type=\"email\" ref={emailRef} required />\r\n        </div>\r\n        <div id=\"password\">\r\n          <div>Password</div>\r\n          <input type=\"password\" ref={passwordRef} required />\r\n        </div>\r\n        <div id=\"password-confirm\">\r\n          <div>Password Confirmation</div>\r\n          <input type=\"password\" ref={passwordConfirmRef} required />\r\n        </div>\r\n        <button disabled={loading} type=\"submit\">\r\n          Sign Up\r\n        </button>\r\n      </form>\r\n\r\n      <div>\r\n        Already have an account? <Link to=\"/react-stock-game/login\">Log In</Link>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\r\nimport Login from \"./Login\"\r\nimport PrivateRoute from \"./PrivateRoute\"\r\nimport App from '../App/App'\r\nimport ForgotPassword from \"./ForgotPassword\"\r\nimport UpdateProfile from \"./UpdateProfile\"\r\nimport Signup from \"./Signup\"\r\n\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nconst Router = () => {\r\n\r\n  const { currentUser } = useAuth()\r\n  console.log(currentUser);\r\n\r\n  const NoMatch = (props) => {\r\n    return (<h1>No Match {props.text}</h1>)\r\n  }\r\n\r\n  const PrivateRoutes = () => {\r\n    return (\r\n      <Switch>\r\n        <PrivateRoute path=\"/react-stock-game/\" component={App} />\r\n        <PrivateRoute path=\"/react-stock-game/update-profile\" component={UpdateProfile} />\r\n        {/* <Route render={() => <NoMatch text={\"PrivateRoutes\"} />} /> */}\r\n      </Switch>\r\n    )\r\n\r\n  }\r\n\r\n  const AuthRoutes = () => {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/react-stock-game/\" component={Login} />\r\n        <Route path=\"/react-stock-game/login\" component={Login} />\r\n        <Route path=\"/react-stock-game/signup\" component={Signup} />\r\n        <Route path=\"/react-stock-game/forgot-password\" component={ForgotPassword} />\r\n        <Route render={() => <NoMatch text={\"AuthRoutes\"} />} />\r\n      </Switch>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      {currentUser ? <PrivateRoutes /> : <AuthRoutes />}\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Router\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport Router from './Auth/Router'\r\nimport { AuthProvider } from \"./contexts/AuthContext\"\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(\r\n  <AuthProvider>\r\n    <Router />\r\n  </AuthProvider>\r\n  ,\r\n  document.getElementById('root')\r\n)\r\n\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}